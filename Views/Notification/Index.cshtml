@model Citlali.Models.NotificationViewModel;

@{
    ViewData["Title"] = "Notification";
}

@section head {
    <link rel="stylesheet" href="~/css/notification.css" asp-append-version="true" />
}
@if(Model.Notifications.Count == 0 ){
    <div> Kuy </div>

}else{
    <div class="container">
        <header>
            <h1>Notification ðŸ””</h1>
            <p>Stay updated with important news and alerts. Don't miss out on the latest updates! ðŸ“¢</p>
        </header>
        <main>
            <div class="notification-container">
                @for (var i = 0; i < Model.Notifications.Count; i++)
                {
                    @if(Model.Notifications[i].Read){
                        <div class="notification-card read" data-id="@Model.Notifications[i].NotificationId">
                            <div class="notification-card-source-user">
                                <img src="@Model.Notifications[i].SourceProfileImageUrl" alt="">
                                <div>
                                    <div id="title">@Model.Notifications[i].Title</div>
                                    <div id="display-name">@Model.Notifications[i].SourceDisplayName</div> 
                                </div>
                            </div>
                            <div class="notification-time"> 1 day ago </div>
                        </div>
                    }
                    else{
                        <div class="notification-card" data-id="@Model.Notifications[i].NotificationId">
                            <div class="notification-card-source-user">
                                <img src="@Model.Notifications[i].SourceProfileImageUrl" alt="">
                                <div>
                                    <div id="title">@Model.Notifications[i].Title</div>
                                    <div id="display-name">@Model.Notifications[i].SourceDisplayName</div> 
                                </div>
                            </div>
                            <div class="notification-time"> 1 day ago </div>
                        </div>
                    }
                }
            </div>

            <div id="default-notification" class="default-notification">
                <div class="default-notification-text">Click on notification to check messages !</div>
            </div>

            <div id="notification-detail" class="notification-detail hidden">
                <div class="header">
                    <div  class="source-img"> <img  id="source-img" src="" alt="SourceProfileImage"></div>
                    <div class="source-info">
                        <div id="source-name" class="source-name"></div>
                        <div id="create-at" class="create-at"></div>
                    </div>
                        
                </div>
                <hr>
                <div class="content">
                    <div id="content-title" class="content-title"> </div>
                    <div id="content-body" class="content-body">
                    </div>
                    <iframe src="" id="iframe" width="500" height="400"></iframe> 
                </div>
            </div>
        </main>

    </div>
}

@section Scripts {
    <script src="~/js/Notification/notification.js"></script>
}
